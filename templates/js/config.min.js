$(document).ready(function(){var a=$("#domain").val(),c=($("#base_url").val(),$("#tblListSmiley").DataTable({paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,processing:!1,sAjaxDataProp:"",serverSide:!1,ajax:a+"index.php/api/list-smiley",autoWidth:!0,columns:[{data:"Id_Smiley"},{data:"Caption_Ms"},{data:"Caption_En"},{data:"Order"},{data:"Status"},{data:null,className:"center",defaultContent:'<a href="" class="rating_edit">Edit</a> / <a href="" class="smiley_preview">View</a>'}],columnDefs:[{type:"date_update",targets:-1},{targets:[0],visible:!1,searchable:!1}]}));$("#tblListSmiley tbody").on("click","a.smiley_preview",function(a){a.preventDefault();var b=c.row($(this).parents("tr")).data();$("#smileyId").val(b.Id_Smiley),$("#editSmiley").modal("show")}),$("#editSmiley").on("show.bs.modal",function(b){var c=$("#smileyId").val(),e=($(this),a+"/templates/images/noimage.png");if(null==c||""==c){var c=null;$("#btnSaveUser span").text("Simpan"),$("#preview-photo").attr("src",e)}else $("#btnSaveUser span").text("Kemaskini");console.log("Smiley Id: "+c),$.ajax({type:"GET",datatype:"jsonp",url:a+"index.php/api/get-smiley/"+c,success:function(a){console.log("User Details: "+a),JsonSmileyData=jQuery.parseJSON(a),JsonSmileyData&&($("#smiley-ms").val(JsonSmileyData.Caption_Ms),$("#smiley-en").val(JsonSmileyData.Caption_En),$("#dropdown-smiley-status").val(JsonSmileyData.status),$("#preview-photo").attr("width","100px"),$("#preview-photo").attr("height","100px"),JsonSmileyData.photo?$("#preview-photo").attr("src",JsonSmileyData.photo):$("#preview-photo").attr("src",e))},error:function(){alert("Unable to process this request...")}})})});